# استيراد المكتبات
import النظام
من النظام import النص, القوائم, النصوص

# تعريف فئة الموقف
class الموقف:
    # بناء الموقف
    def __init__(نفس, الصف, العمود):
        نفس.الصف = الصف
        نفس.العمود = العمود

# تعريف فئة ميتريس
class ميتريس:
    # تعريف المتغيرات
    المجال = None
    الصفوف = 0
    الأعمدة = 0

    # بناء الميتريس
    def __init__(نفس, الصفوف, الأعمدة):
        نفس.الصفوف = الصفوف
        نفس.الأعمدة = الأعمدة
        نفس.المجال = [[0] * الأعمدة for _ in range(الصفوف)]

    # الوصول إلى العناصر بمعاملات متغيرة
    def __getitem__(نفس, الصف, العمود):
        رجوع نفس.المجال[الصف][العمود]

    # تعيين العناصر بمعاملات متغيرة
    def __setitem__(نفس, الصف, العمود, القيمة):
        نفس.المجال[الصف][العمود] = القيمة

    # التحقق مما إذا كان الموقع داخل الميتريس
    def هل_في(نفس, الصف, العمود):
        رجوع 0 <= الصف < نفس.الصفوف and 0 <= العمود < نفس.الأعمدة

    # التحقق مما إذا كان الموقع فارغًا
    def هل_فارغ(نفس, الصف, العمود):
        رجوع نفس.هل_في(الصف, العمود) and نفس.المجال[الصف][العمود] == 0

    # التحقق مما إذا كان الصف ممتلئًا
    def هل_الصف_ممتلئ(نفس, الصف):
        للعمود في النطاق(نفس.الأعمدة):
            إذا لم يكن نفس.هل_فارغ(الصف, العمود):
                رجوع خطأ
        رجوع صحيح

    # التحقق مما إذا كان الصف فارغًا
    def هل_الصف_فارغ(نفس, الصف):
        للعمود في النطاق(نفس.الأعمدة):
            إذا كان نفس.المجال[الصف][العمود] != 0:
                رجوع خطأ
        رجوع صحيح

    # مسح الصف
    def مسح_الصف(نفس, الصف):
        للعمود في النطاق(نفس.الأعمدة):
            نفس.المجال[الصف][العمود] = 0

    # نقل الصف لأسفل
    def نقل_الصف_لأسفل(نفس, الصف, الصفوف):
        للعمود في النطاق(نفس.الأعمدة):
            نفس.المجال[الصف + الصفوف][العمود] = نفس.المجال[الصف][العمود]
            نفس.المجال[الصف][العمود] = 0

    # مسح الصفوف الممتلئة
    def مسح_الصفوف_الممتلئة(نفس):
        المحذوفة = 0

        للصف في نطاق(نفس.الصفوف - 1, -1, -1):
            إذا كان نفس.هل_الصف_ممتلئ(الصف):
                نفس.مسح_الصف(الصف)
                المحذوفة += 1
            إلا إذا كان المحذوفة > 0:
                نفس.نقل_الصف_لأسفل(الصف, المحذوفة)
